<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form To Table</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
        .container {
            max-width: 600px;
        }


        #gpa {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div class="container mt-3">
        <div id="marksEntry">
            <h2 class="text-center mb-4 bg-dark text-white">Subject Marks</h2>
            <div class="row mb-3">
                <label for="sub1" class="col-form-label">Subject 1:</label>
                <input type="number" class="form-control" id="sub1">
            </div>
            <div class="row mb-3">
                <label for="sub2" class="col-form-label">Subject 2:</label>
                <input type="number" class="form-control" id="sub2">
            </div>
            <div class="row mb-3">
                <label for="sub3" class="col-form-label">Subject 3:</label>
                <input type="number" class="form-control" id="sub3">
            </div>
            <div class="row mb-3">
                <label for="sub4" class="col-form-label">Subject 4:</label>
                <input type="number" class="form-control" id="sub4">
            </div>
            <div class="text-center">
                <button class="btn btn-danger btn-lg" onclick="handleClick()">Submit</button>
            </div>
        </div>
    </div>
    

    <div class="container results-container d-none" id="results">
        <h2 class="text-center mb-4 bg-dark text-white">Subject Marks and GPA</h2>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Subject</th>
                    <th scope="col">Marks</th>
                </tr>
            </thead>
            <tbody id="resultsBody">
                <!-- inject js here -->
            </tbody>
        </table>
        <div class="text-center">
            <h3 class="d-inline-flex pe-2">Overall GPA:</h3>
            <span class="display-6" id="gpa"></span>
        </div>
    </div>

    <script>
        function handleClick() {
            let subs = [];
            let total = 0;
            for (let i = 1; i <= 4; i++) {
                let mark = parseFloat(document.getElementById('sub' + i).value) || 0;
                subs.push({ name: 'Subject ' + i, marks: mark });
                total += mark;
            }
            let gpa = total / 4;
            display(subs, gpa);
        }
        function display(subs, gpa) {
            let resBody = document.getElementById("resultsBody");
            resBody.innerHTML = subs.map(sub => `<tr><td>${sub.name}</td><td>${sub.marks}</td></tr>`).join('');
            document.getElementById('gpa').textContent = gpa.toFixed(2);
            // document.getElementById("marksEntry").setAttribute('class', 'd-none');
            // document.getElementById('results').setAttribute('class', 'container results-container');
            document.getElementById("marksEntry").classList.add('d-none')
            document.getElementById('results').classList.remove("d-none")
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>

</html>